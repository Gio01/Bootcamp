Cloud? (What is cloud computing?)
    - multiple systems combined together to act as one system
        CPU + Memory + Storage

        So the reason that we are saying that they are being combined is because
        these individual components such as the CPU can be in a different server rack
        and the storage (DB) can be in another server which means that we can just join
        together these physically seperate components to act as one machine by which 
        we can use! 
    
    - Resources on demand
        > Meaning that you are able to add things such as another server that same day!
        > This is what is called Elasticity! 
            - Meaning that without human intervention, you can simply click some botton and 
            be able to add servers into your infrastructure (Ex: AWS)
            - This is very important to be able to characterize some service as cloud!
    
    -  

Data Center with resources that can be used?

Infrastructure Investment
    Physical Servers
        Application Servers
        Database Servers
        Directory Servers (Active Directory by which we can control access managament
            to network resources)
        Storage Servers
        Print Servers

    Network

    Staff

    Real Estate

    Electricity

    Internet Connectivity


IaaS (Infrastructure as a Service)
- Virtualization
- Servers
- Storage
- Networking 
- However you are resposinble for the OS that you are 
going to us and also any patches that are needed for that 
machine and other things

PaaS (Platform as a Service)
- All of IaaS and also  
    - Runtime
    - Middleware
    - OS

- Meaning that you can simply pass in your Application
onto that server and it should be able to run 

SaaS (Software as a Service)
- All of PaaS and 
    - Data 
    - Application
    Ex: Netflix, Any google products, etc..

Cloud Deployment Models (3 types)
    - Private (OpenStack)
    - Public (AWS, Google Cloud, Azure)
    - Hybrid ([Fully Owned/Private Cloud] + Public)


Content Delivery Network

Application
    dynamic resources -> process data and return dynamic result
    static resources -> html, css, js, ico, jpg

Essentially what happens is that when we want to look up some site
instead of having to access the actual server of the site, AWS
will point us to a CDN by which it will then point us to some
edge location to be able to provide us with the cached version of the
site and hence we can get the site faster.

We can use this idea through the help of CloudFront on AWS



Within a data center that contains servers, each of those physical 
servers has a host OS! (which was then later eliminated completely
with the use of a hypervisor OS so that we would not need to use 
memory on that server for the host OS!)

However when we connect to a virtual computer over the web such as through
the use of AWS, this is us connecting to a virtual computer which is available
on top of that host OS is what we call as a hyperviser!
- So essentially it is similar to that of on AWS we are opening a Virtual 
    box instance on that remote server! 
- We are going to be using that hypervisor and eliminate the host system so that 
we can then be able to choose what OS we want in that hypervisor without there being 
memory space taken up in the server by a host OS! 

Then when we choose a VM in AWS we are getting a machine that will run on a slice of the
memory storage on the host server! In this manner many people can be using a slice of the
memory within the same server! 


----------------

Now we created a User -> an EC2 instance -> a security group for SSH & HTTP in security inbound ->
httpd (Apache Server) -> downloaded an html template to host in /var/www/html 

Now instead of doing all this through AWS we can use AWS CloudFormation to 
create the infrastructure (the AWS stuff we added), such as the adding of 
HTTP as an inbound and anything else.


Also in the beginning of the creation of a new EC2 instance what we can do is 
write a script within the user data found in the creatin of an instance within
AWS where we can give its bash commands for the instance to run as soon 
as the instance is created!

Ex: Within the user data!  
#!/bin/bash
sudo su
yum update -y
yum install httpd -y
systemctl start httpd
cd /var/www/html
wget https://html5up.net/paradigm-shift/download --no-check-certificate
unzip download


-------------
Template instance

Once we have created an instance template with the configs that we want,
we can then use that template to launch templates using that template
instead of needing to manually create them from scratch again


Image
Now by creating an image what we are doing is creating an instance of the current
snapshot of the currently running EC2 which means that we do not need to re 
install things such as httpd again and instead this image will have the same 
things already installed for us from the running instance!
- this is different than the template as the template has to run the start up
code in order to then have the same things installed to that of some previously
running instance! 

Now when you craete an image a snapshot was taken an that is within the Elastic Block
Snapshots section so if you wanted to delete the image you would also need to delete
that snapshot within there! 

--------------

Now if we wanted to deploy our app in a server what we can do is run ng build to create 
a build version of our application which we can then use to deploy onto the server!

the server will need this packaged version of the app because in the browser it is the 
packaged build that actually gets displayed and not the entire normal app that we code in!

We just need to pack the code in a zip and then unzip it within the /var/www/html Directory
within the EC2 instance so that the index.html file and all the other files are within the 
this same directory and then the apache server will find the index.html and other files needed
to host the site on the server! 


Now when we have a lot of traffic we can use balance loaders so that the incoming traffic
can be divided up and taken into diff servers that are running the same website! Meaning 
that we can feed the site to more users without exhausting a single server! 

Now how can we determine from where the server is the one that the user is going to from 
the load balancer? Well one way is that we can simply craete an html page that says server 1 but
instead we can get the meta-deta from the instance by using curl on this:

curl http://169.254.169.254/latest/dynamic/instance-identity/document
{
  "accountId" : "145227758054",
  "architecture" : "x86_64",
  "availabilityZone" : "us-east-1c",
  "billingProducts" : null,
  "devpayProductCodes" : null,
  "marketplaceProductCodes" : null,
  "imageId" : "ami-05fa00d4c63e32376",
  "instanceId" : "i-0d288423237b1e523",
  "instanceType" : "t2.micro",
  "kernelId" : null,
  "pendingTime" : "2022-08-30T14:06:29Z",
  "privateIp" : "172.31.18.40",
  "ramdiskId" : null,
  "region" : "us-east-1",
  "version" : "2017-09-30"
}


Now we can craete html pages based on this document that we have gotten here so we can 
display this meta-data so we can know from which server this is coming from!

Now this ip address can be used within each insteance and the data that is outputed will
be from that specific instance! 

 curl http://169.254.169.254/latest/dynamic/instance-identity/document > /var/www/html/index.html

So after running this command we have overwritten the data in the index.html with the 
meta-data that we found in the server using the previous curl command to get the meta-data

Then based on the instanceid that is found the curl output document we can see from which 
server it is that the index.html is coming from 



